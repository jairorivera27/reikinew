(()=>{var e={};e.id=146,e.ids=[146],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7909:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),r(6571),r(5866),r(4752);var t=r(3191),i=r(8716),a=r(7922),l=r.n(a),n=r(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(s,d);let c=["",{children:["(dashboard)",{children:["okr",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6571)),"C:\\Users\\core i5\\Desktop\\REIKINEW\\apps\\web\\app\\(dashboard)\\okr\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"C:\\Users\\core i5\\Desktop\\REIKINEW\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\core i5\\Desktop\\REIKINEW\\apps\\web\\app\\(dashboard)\\okr\\page.tsx"],x="/(dashboard)/okr/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/okr/page",pathname:"/okr",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5925:(e,s,r)=>{Promise.resolve().then(r.bind(r,8534))},8534:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var t=r(326),i=r(7577),a=r(4976),l=r(108),n=r(119),d=r(6572),c=r(772),o=r(2643),x=r(6384),u=r(1048),p=r(4474),h=r(6824),m=r(3855),j=r(3468),g=r(7069);function y(){let[e,s]=(0,i.useState)(!1),r=(0,a.NL)(),{data:y,isLoading:v}=(0,l.a)({queryKey:["okrs"],queryFn:async()=>(await h.Z.get("/okr")).data}),{data:b}=(0,l.a)({queryKey:["okr-dashboard"],queryFn:async()=>(await h.Z.get("/okr/dashboard")).data}),f=(0,n.D)({mutationFn:async e=>(await h.Z.post("/okr",e)).data,onSuccess:()=>{r.invalidateQueries({queryKey:["okrs"]}),s(!1)}});return v?t.jsx(d.c,{children:t.jsx("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary-700 border-r-transparent"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando OKRs..."})]})})}):t.jsx(d.c,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"OKR"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Objetivos y Resultados Clave"})]}),(0,t.jsxs)(c.z,{onClick:()=>s(!e),children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Nuevo OKR"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(o.ll,{className:"text-sm font-medium",children:"Total OKRs"}),t.jsx(j.Z,{className:"h-4 w-4 text-gray-500"})]}),t.jsx(o.aY,{children:t.jsx("div",{className:"text-2xl font-bold",children:b?.totalOkrs||0})})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(o.ll,{className:"text-sm font-medium",children:"Progreso Promedio"}),t.jsx(g.Z,{className:"h-4 w-4 text-gray-500"})]}),t.jsx(o.aY,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[b?.averageProgress||0,"%"]})})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(o.ll,{className:"text-sm font-medium",children:"KRs Completados"}),t.jsx(j.Z,{className:"h-4 w-4 text-gray-500"})]}),t.jsx(o.aY,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[b?.completedKrs||0," / ",b?.totalKrs||0]})})]})]}),e&&(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{children:"Crear Nuevo OKR"})}),t.jsx(o.aY,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),r=JSON.parse(localStorage.getItem("user")||"{}");f.mutate({title:s.get("title"),description:s.get("description"),area:s.get("area"),period:s.get("period"),startDate:s.get("startDate"),endDate:s.get("endDate"),ownerId:r.id})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"title",children:"T\xedtulo del Objetivo"}),t.jsx(x.I,{id:"title",name:"title",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"description",children:"Descripci\xf3n"}),t.jsx(x.I,{id:"description",name:"description"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"area",children:"\xc1rea"}),(0,t.jsxs)(p.P,{id:"area",name:"area",required:!0,children:[t.jsx("option",{value:"",children:"Seleccionar..."}),t.jsx("option",{value:"COMERCIAL",children:"Comercial"}),t.jsx("option",{value:"MARKETING",children:"Marketing"}),t.jsx("option",{value:"ADMINISTRATIVA",children:"Administrativa"}),t.jsx("option",{value:"DIRECCION",children:"Direcci\xf3n"})]})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"period",children:"Per\xedodo"}),(0,t.jsxs)(p.P,{id:"period",name:"period",required:!0,children:[t.jsx("option",{value:"",children:"Seleccionar..."}),t.jsx("option",{value:"ANUAL",children:"Anual"}),t.jsx("option",{value:"TRIMESTRAL",children:"Trimestral"}),t.jsx("option",{value:"MENSUAL",children:"Mensual"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"startDate",children:"Fecha Inicio"}),t.jsx(x.I,{id:"startDate",name:"startDate",type:"date",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"endDate",children:"Fecha Fin"}),t.jsx(x.I,{id:"endDate",name:"endDate",type:"date",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[t.jsx(c.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),t.jsx(c.z,{type:"submit",disabled:f.isPending,children:f.isPending?"Creando...":"Crear OKR"})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[y?.map(e=>t.jsxs(o.Zb,{children:[t.jsx(o.Ol,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(o.ll,{children:e.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 text-primary-800 rounded",children:e.area}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:e.period})]})]})}),t.jsx(o.aY,{children:t.jsx("div",{className:"space-y-2",children:e.keyResults?.map(e=>{let s=e.targetValue&&e.currentValue?e.currentValue/e.targetValue*100:0;return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:e.title}),t.jsxs("span",{className:"font-medium",children:[e.currentValue||0," / ",e.targetValue||0," ",e.unit||""]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(s,100)}%`}})})]},e.id)})})})]},e.id)),(!y||0===y.length)&&t.jsx(o.Zb,{children:t.jsx(o.aY,{className:"py-8 text-center text-gray-500",children:"No hay OKRs creados. Crea tu primer OKR para comenzar."})})]})]})})}},4474:(e,s,r)=>{"use strict";r.d(s,{P:()=>l});var t=r(326),i=r(7577),a=r(1135);let l=i.forwardRef(({className:e,children:s,...r},i)=>t.jsx("select",{className:(0,a.W)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r,children:s}));l.displayName="Select"},3855:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6571:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`C:\Users\core i5\Desktop\REIKINEW\apps\web\app\(dashboard)\okr\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[769,468,960,108,361],()=>r(7909));module.exports=t})();